<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Product</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=League+Spartan:wght@500;700&display=swap');
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css");

       
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #ffffff;
            overflow-x: hidden;
        }

        .PLAY_US {
            font-size: 6vh;
            color: #000000;
            font-weight: bold;
            font-family: 'League Spartan', sans-serif;
            text-align: center;
            margin-top: 5vh;
            margin-left: -45vw;
        }

        .play_us_button {
            position: absolute;
            margin-top: 4vh;
            margin-left: 75vw;
            top: 1.6vh;
            cursor: pointer;
        }

        .play_us_button img {
            width: 10vw;
            height: 10vw;
            transition: transform 0.3s;
            /* 호버 시에 변화를 부드럽게 */
        }

        .play_us_button:hover img {
            transform: scale(1.1);
            /* 이미지 크기 확대 (1.1배) */
        }

        .additional_text {
            position: absolute;
            font-size: 2.2vh;
            font-weight: bold;
            text-align: center;
            font-family: 'League Spartan', sans-serif;
            margin: 1vh 0;
            margin-top: 10vh;
            margin-left: -21vw;
        }

        .additional_text_1 {
            position: absolute;
            font-size: 2.4vh;
            font-weight: bold;
            text-align: center;
            font-family: 'League Spartan', sans-serif;
            margin-top: 25vh;
            margin-left: -35vw;
        }

        .additional_text_2 {
            position: absolute;
            top: 8vh;
            font-size: 2.4vh;
            font-weight: bold;
            text-align: center;
            font-family: 'League Spartan', sans-serif;
            margin: 1vh 0;
            margin-top: 29vh;
            margin-left: -45vw;
        }

        .box-container-1 {
            position: absolute;
            display: flex;
            justify-content: space-between;
            width: 90vw;
            margin-top: 39vh;
        }

        .box {
            flex: 0 0 calc(48% - 1vw);
            margin: 0.5vh;
            height: 11vh;
            background-color: #e0e0e0;
            border-radius: 5px;
            box-shadow: 0px 3px 12px 0px rgba(0, 0, 0, 0.10);
        }

        .box-container-2 {
            position: absolute;
            display: flex;
            justify-content: space-between;
            width: 90vw;
            margin-top: 78vh;
        }

        .box-2 {
            flex: 0 0 calc(48% - 1vw);
            margin: 0.5vh;
            height: 11vh;
            background-color: #e0e0e0;
            border-radius: 5px;
            box-shadow: 0px 3px 12px 0px rgba(0, 0, 0, 0.10);
        }

        .additional_text_3 {
            position: absolute;
            font-size: 2.4vh;
            font-weight: bold;
            text-align: center;
            font-family: 'League Spartan', sans-serif;
            margin: 1vh 0;
            margin-left: -27vw;
            margin-top: 100vh;
        }

        .box-container-3 {
            position: absolute;
            display: flex;
            justify-content: space-between;
            width: 90vw;
            margin-top: 116vh;
        }

        .box-3 {
            flex: 0 0 calc(48% - 1vw);
            margin: 0.5vh;
            height: 11vh;
            background-color: #e0e0e0;
            border-radius: 5px;
            box-shadow: 0px 3px 12px 0px rgba(0, 0, 0, 0.10);
        }

        .additional_text_4 {
            position: absolute;
            font-size: 2.4vh;
            font-weight: bold;
            font-family: 'League Spartan', sans-serif;
            margin: 1vh 0;
            margin-top: 137vh;
            margin-left: -18vw;
        }

        .box-container-4 {
            position: absolute;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            width: 90vw;
            margin-top: 160vh;
        }

        .box-4 {
            flex: 1;
            min-width: 48%;
            margin: 0.5vh;
            height: 18vh;
            background-color: #e0e0e0;
            border-radius: 5px;
            box-shadow: 0px 3px 12px 0px rgba(0, 0, 0, 0.10);
        }

        .left_button,
        .right_button,
        .left_button_1,
        .right_button_1,
        .left_button_2,
        .right_button_2 {
            margin-top: 1vh;
        }

        .left_button img:hover,
        .right_button img:hover,
        .left_button_1 img:hover,
        .right_button_1 img:hover,
        .left_button_2 img:hover,
        .right_button_2 img:hover {
            transform: scale(1.1);
        }

        .left_button {
            position: absolute;
            margin-left: 70vw;
            margin-top: 22vh;
        }

        .right_button {
            position: absolute;
            margin-left: 78vw;
            margin-top: 22vh;
        }

        .left_button_1 {
            position: absolute;
            margin-left: 70vw;
            margin-top: 59vh;
        }

        .right_button_1 {
            position: absolute;
            margin-top: 59vh;
            margin-left: 78vw;
        }

        .left_button_2 {
            position: absolute;
            margin-top: 98vh;
            margin-left: 70vw;
        }

        .right_button_2 {
            position: absolute;
            margin-top: 98vh;
            margin-left: 78vw;
        }

        .sidebar {
            position: fixed;
            left: -90%;
            top: 0;
            width: 81%;
            height: 120%;
            background: rgba(177, 177, 177, 0.56);
            backdrop-filter: blur(10px);
            transition: left 0.6s;

        }

        .sidebar-open {
            left: 0;

        }

        .content {
            position: absolute;
            z-index: 1;
            opacity: 1;

            transition: opacity 0.5s;
        }

        .sidebar-open .content {
            opacity: 0;

            z-index: -1;

        }


        .box,
        .box-2,
        .box-3,
        .box-4,
        .additional_text,
        .additional_text_1,
        .additional_text_2,
        .additional_text_3,
        .additional_text_4 {
            max-height: initial;
            opacity: 1;
            transition: max-height 0.5s, opacity 0.5s;
            transform: translateY(0);

            display: block;

        }


        .sidebar-open .box,
        .sidebar-open .box-2,
        .sidebar-open .box-3,
        .sidebar-open .box-4,
        .sidebar-open .additional_text,
        .sidebar-open .additional_text_1,
        .sidebar-open .additional_text_2,
        .sidebar-open .additional_text_3,
        .sidebar-open .additional_text_4 {
            max-height: 0;
            opacity: 0;
            transform: translateY(-100%);

            display: none;

        }


        .sidebar-open .box,
        .sidebar-open .box-2,
        .sidebar-open .box-3,
        .sidebar-open .box-4,
        .sidebar-open .additional_text,
        .sidebar-open .additional_text_1,
        .sidebar-open .additional_text_2,
        .sidebar-open .additional_text_3,
        .sidebar-open .additional_text_4 {
            transition: max-height 0.5s, opacity 0.5s, transform 0.5s, display 0s 0.5s;

        }

        .box-container-1,
        .box-container-2,
        .box-container-3 {
            position: absolute;
            display: flex;
            justify-content: space-between;
            width: 90vw;
            transition: transform 0.5s;
        }



        .additional_text_5 {
            font-size: 6vh;
            color: #000000;
            font-weight: bold;
            font-family: 'League Spartan', sans-serif;
            text-align: center;
            margin-top: 5vh;
            margin-left: -27vw;
            opacity: 0;
        }

        .sidebar-open .additional_text_5 {
            animation: fadeIn 2s ease-in-out forwards;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .profile-button {
            position: relative;
            width: 14vw;
            height: 14vw;
            background-color: #007bff;
            color: #fff;
            border: 1px solid #007bff;
            border-radius: 50%;
            margin: 0 auto;
            cursor: pointer;
            overflow: hidden;
            margin-left: 6vw;
        }

        .profile-button img {
            width: 100%;
            /* Make the image inside the button cover the entire button */
            height: 100%;
            /* Make the image inside the button cover the entire button */
            object-fit: cover;
            /* Maintain the image's aspect ratio and cover the entire button */
        }

        .profile-button input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        #edit-icon {
            width: 20px;
            height: 20px;
        }

        .username-text {
            position: absolute;
            font-size: 1.4vh;
            margin-top: -12vw;
            font-weight: bold;
            margin-left: 22vw;
        }

        .additional-image-1 {
            width: 5vh;
            height: 5vh;
            margin-top: -5vh;
            position: absolute;
            margin-left: 28vh;
        }

        .additional-image-2 {
            width: 5vh;
            height: 5vh;
            margin-top: -5vh;
            position: absolute;
            margin-left: 32vh;
        }

        .additional-image-3 {
            width: 5vh;
            height: 5vh;
            margin-top: -5.3vh;
            position: absolute;
            margin-left: 36.3vh;
        }


        .additional-image-1 img {
            width: 3vh;
            height: 3vh;
            position: absolute;
            margin-left: -1vh;
            transition: transform 0.3s;
        }

        .additional-image-2 img {
            width: 3vh;
            height: 3vh;
            position: absolute;
            margin-left: -0.8vh;
            transition: transform 0.3s;
        }


        .additional-image-3 img {
            width: 3vh;
            height: 3vh;
            position: absolute;
            margin-left: -0.8vh;
            transition: transform 0.3s;
        }


        .additional-image-1 img:hover,
        .additional-image-2 img:hover,
        .additional-image-3 img:hover {
            transform: scale(1.1);
            /* 이미지 크기 확대 (1.1배) */
        }

        .friend-image {
            width: 4.5vh;
            height: 4.5vh;
            margin-top: 3vh;
            position: absolute;
            margin-left: 3vh;
        }


        .friend-text {
            font-size: 3vh;
            font-weight: bold;
            text-align: center;
            margin-top: 3.2vh;
            margin-left: -8vh;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .friend-text:hover {
            transform: scale(1.1);
        }



        a {
            text-decoration: none;
            color: #000000;
        }

        .table-image {
            width: 4.5vh;
            height: 4.5vh;
            margin-top: 3vh;
            position: absolute;
            margin-left: 2.5vh;
        }


        .table-text {
            font-size: 3vh;
            font-weight: bold;
            text-align: center;
            margin-top: 3.2vh;
            margin-left: -0.1vh;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .table-text:hover {
            transform: scale(1.1);
        }


        .location-image {
            width: 4.5vh;
            height: 4.5vh;
            margin-top: 3vh;
            position: absolute;
            margin-left: 2.5vh;
        }


        .location-text {
            font-size: 3vh;
            font-weight: bold;
            text-align: center;
            margin-top: 3.2vh;
            margin-left: 3vh;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .location-text:hover {
            transform: scale(1.1);
        }

        .message-image {
            width: 4.5vh;
            height: 4.5vh;
            margin-top: 3vh;
            position: absolute;
            margin-left: 2.5vh;
        }
        .message-text {
            font-size: 2.4vh;
            font-weight: bold;
            text-align: center;
            margin-top: 3.2vh;
            margin-left: 7vh;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .message-text:hover {
            transform: scale(1.1);
        }

        .weather-image {
            width: 4.5vh;
            height: 4.5vh;
            margin-top: 3vh;
            position: absolute;
            margin-left: 2.5vh;
        }

        .weather-text {
            font-size: 3vh;
            font-weight: bold;
            text-align: center;
            margin-top: 3.2vh;
            margin-left: 6vh;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .weather-text:hover {
            transform: scale(1.1);
        }

        .plan-image {
            width: 4.5vh;
            height: 4.5vh;
            margin-top: 3vh;
            position: absolute;
            margin-left: 2.5vh;
        }

        .plan-text {
            font-size: 3vh;
            font-weight: bold;
            text-align: center;
            margin-top: 3.2vh;
            margin-left: -1.1vh;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .plan-text:hover {
            transform: scale(1.1);
        }
        .pay-image {
            width: 4.5vh;
            height: 4.5vh;
            margin-top: 3vh;
            position: absolute;
            margin-left: 2.5vh;
        }


        .pay-text {
            font-size: 3vh;
            font-weight: bold;
            text-align: center;
            margin-top: 3.2vh;
            margin-left: 5vh;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .pay-text:hover {
            transform: scale(1.1);
        }
    </style>
</head>

<body>

    <p class="PLAY_US">Play_Us.</p>
    <div class="play_us_button" onclick="toggleSidebar()">
        <img src="menu.png" alt="Play Us Button">
    </div>
    </div>
    <div id="sidebar" class="sidebar">
        <p class="additional_text_5" id="sidebartext"><a href="https://play-us.netlify.app/main.html">Play_Us.</p>

        <div class="profile-button">
            <input type="file" id="image-upload" accept="image/*" onchange="updateProfileImage(this)">
            <img src="edit_icon.png" alt="Edit Profile" id="edit-icon">
        </div>

        <div class="username-text">
            <p id="username-greeting">username님, 반가워요</p>
        </div>

        <div class="additional-image-1">
            <img src="logout.png" alt="로그아웃" onclick="handleImageClick(1)">
        </div>


        <div class="additional-image-2">
            <img src="setting.png" alt="설정" onclick="handleImageClick(2)">
        </div>

        <img src="friends.png" alt="친구목록" class="friend-image">
        <div class="friend-text"><a href="https://play-us.netlify.app/friends.html">친구목록</a></div>

        <img src="table.png" alt="일정 관리하기" class="table-image">
        <div class="table-text"><a href="https://play-us.netlify.app/plan.html">일정 관리하기</a></div>

        <img src="location.png" alt="주변 놀거리 찾기" class="location-image">
        <div class="location-text"><a href="https://play-us.netlify.app/naerlocation.html">주변 놀거리 찾기</a></div> <!--링크 넣어줘야함-->

        <img src="message.png" alt="방문한 매장 의견 남기기" class="message-image">
        <div class="message-text"><a href="">방문한 매장 읜견 남기기</a></div> <!--링크 넣어줘야함-->

        <img src="weather.png" alt="오늘 날씨 확인하기" class="weather-image">
        <div class="weather-text"><a href="">오늘 날씨 확인하기</a></div> <!--링크 넣어줘야함-->

        <img src="plan.png" alt="계획짜러 가기" class="plan-image">
        <div class="plan-text"><a href="">계획짜러 가기</a></div> <!--링크 넣어줘야함-->

        <img src="pay.png" alt="더치페이 계산하기" class="pay-image">
        <div class="pay-text"><a href="">더치페이 계산하기</a></div> <!--링크 넣어줘야함-->

    </div>

    <p class="additional_text" id="greeting">username 님 오늘도 준비되셨나요?</p>
    <p class="additional_text_1">최근 인기있는 놀거리에요</p>
    <p class="additional_text_2">주변에 이런게 있어요</p>
    <div class="box-container-1">
        <div class="box"></div>
        <div class="box"></div>
    </div>

    <div class="box-container-2">
        <div class="box-2"></div>
        <div class="box-2"></div>
    </div>

    <p class="additional_text_3" id="similarUsersText">오늘 날씨에는 이런게 어때요?</p>

    <div class="box-container-3">
        <div class="box-3"></div>
        <div class="box-3"></div>
    </div>

    <p class="additional_text_4" id="newPlaceText">username님이 최근에 간 곳이에요</p>

    <div class="box-container-4">
        <div class="box-4" id="map"></div>
    </div>

    <div class="left_button" onclick="buttonClicked('left', 1)">
        <img src="left.png" alt="left Button" style="width: 2.5vw; height: 2.5vw;">
    </div>
    <div class="right_button" onclick="buttonClicked('right', 1)">
        <img src="right.png" alt="right Button" style="width: 2.5vw; height: 2.5vw;">
    </div>

    <div class="left_button_1" onclick="buttonClicked('left', 2)">
        <img src="left.png" alt="left Button" style="width: 2.5vw; height: 2.5vw;">
    </div>
    <div class="right_button_1" onclick="buttonClicked('right', 2)">
        <img src="right.png" alt="right Button" style="width: 2.5vw; height: 2.5vw;">
    </div>

    <div class="left_button_2" onclick="buttonClicked('left', 3)">
        <img src="left.png" alt="left Button" style="width: 2.5vw; height: 2.5vw;">
    </div>

    <div class="right_button_2" onclick="buttonClicked('right', 3)">
        <img src="right.png" alt="right Button" style="width: 2.5vw; height: 2.5vw;">
    </div>


    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=4am77jshp6"></script>
    <script>

            const urlParams = new URLSearchParams(window.location.search);
            const username = urlParams.get('username');
            if (username) {
                const greeting = document.getElementById('greeting');
                greeting.textContent = `${username} 님 오늘도 준비되셨나요?`;

                const newPlaceText = document.getElementById('newPlaceText');
                newPlaceText.textContent = `${username}님이 최근에 간 곳이에요`;

                const usernameGreeting = document.getElementById('username-greeting');
                usernameGreeting.textContent = `${username}님, 반가워요`;
            }

            const currentContainers = {
                1: 1,
                2: 1,
                3: 1,
            };

            // 버튼 클릭 시 실행
            function buttonClicked(direction, containerNumber) {
                const container = document.querySelector(`.box-container-${containerNumber}`);
                const containerCount = container.children.length;
                const boxWidth = 48;
                const vw = window.innerWidth;
                let currentContainer = currentContainers[containerNumber];

                if (direction === 'left') {
                    if (currentContainer < containerCount) {
                        currentContainer++;
                        container.style.transform = `translateX(-${boxWidth * (currentContainer - 1)}vw)`;
                    }
                } else if (direction === 'right') {
                    if (currentContainer > 1) {
                        currentContainer--;
                        container.style.transform = `translateX(${boxWidth * (currentContainer - 1)}vw)`;
                    }
                }

                currentContainers[containerNumber] = currentContainer;
            }



            function toggleSidebar() {
                const sidebar = document.getElementById('sidebar');
                const content = document.querySelector('.content');
    
                sidebar.classList.toggle('sidebar-open');
    
                const elementsToHide = document.querySelectorAll('.PLAY_US, .additional_text, .additional_text_1, .additional_text_2, greeting, username-greeting, newPlaceText, left_button, right_button, .box, .box-2, .box-3, .box-4, .additional_text, .additional_text_1, .additional_text_2, .additional_text_3, .additional_text_4');
                for (const element of elementsToHide) {
                    if (sidebar.classList.contains('sidebar-open')) {
                        element.style.maxHeight = '0';
                        element.style.opacity = '0';
                        element.style.transform = 'translateY(-100%)';
                    } else {
                        element.style.maxHeight = 'initial';
                        element.style.opacity = '1';
                        element.style.transform = 'translateY(0)';
                    }
                }
    
                if (sidebar.classList.contains('sidebar-open')) {
                    content.style.opacity = 0;
                } else {
                    content.style.opacity = 1;
                }
    
                setTimeout(function () {
                    for (const element of elementsToHide) {
                        if (sidebar.classList.contains('sidebar-open')) {
                            element.style.display = 'none';
                        } else {
                            element.style.display = 'block';
                        }
                    }
                }, 1000); // 지연 시간은 애니메이션 지속 시간과 동일하게 설정 (0.5초 = 500 밀리초)
            }
            
            function initMapForIOS(latitude, longitude) {
                var mapOptions = {
                    center: new naver.maps.LatLng(latitude, longitude),
                    zoom: 13
                };
    
                var map = new naver.maps.Map('map', mapOptions);
    
                var markerOptions = {
                    position: new naver.maps.LatLng(latitude, longitude),
                    map: map
                };
    
                var marker = new naver.maps.Marker(markerOptions);
            }
    
            function initMapForAndroid(latitude, longitude) {
                var mapOptions = {
                center: new naver.maps.LatLng(latitude, longitude),
                zoom: 13
            };
    
            var map = new naver.maps.Map('map', mapOptions);
    
                var markerOptions = {
                position: new naver.maps.LatLng(latitude, longitude),
                map: map
            };
    
            var marker = new naver.maps.Marker(markerOptions);
            }
    
    
            // 앱에서 호출하는 함수
            // 이 함수는 앱에서 호출하며, 앱은 위치 정보를 인자로 제공해야 합니다.
            window.showLocationOnMap = function(latitude, longitude) {
                var userAgent = navigator.userAgent || navigator.vendor || window.opera;
    
                // iOS의 경우
                if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                    initMapForIOS(latitude, longitude);
                } 
                // 안드로이드의 경우
                else if (/android/i.test(userAgent)) {
                    initMapForAndroid(latitude, longitude);
                }
            }

        </script>
    </body>

</html>